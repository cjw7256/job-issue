<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
		 xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<html lang="en">
<head>
	<th:block th:replace="/navbar/afterLoginNavBar.html::headerNavBarHead"></th:block>
    <link rel="styleSheet" href="/css/applicantManage.css">
    <title>지원자 관리</title>
</head>
<body>
	<div th:replace="/navbar/afterLoginNavBar.html :: headerNavBar"></div>
    <div class="body">
        <div class="card">
            <h3 class="title">지원자 확인</h3>
            	<table class="table" id="recruitTable">
  					<thead>
   						 <tr>
     						<th scope="col">#</th>
     						<th scope="col">공고명</th>
      						<th scope="col">공고마감일</th>
    					</tr>
  					</thead>
  						<tbody>
    						<tr  th:each="recruit : ${Recruit}">
      						<th scope="row" th:text="${recruit.announcementCode}">공고번호</th>
      						<td >
      						<a type="button" th:text="${recruit.announcement}" data-bs-toggle="modal" 
      						th:attr="data-bs-target='#modal_'+ ${recruit.announcementCode}">공고명</a></td>
      						<td th:text="${recruit.receiptEndDate}">공고 마감일</td>
    						</tr>
  						</tbody>
				</table>


			<!-- Vertically centered scrollable modal -->
			
			<th:block th:each="recruit : ${Recruit}">
			<div class="modal fade" th:id="'modal_'+${recruit.announcementCode}" tabindex="-1"
				aria-labelledby="exampleModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
					<div class="modal-content">
						<div class="modal-header">
							<h1 class="modal-title fs-5" id="exampleModalLabel">지원자 목록</h1>
							<button type="button" class="btn-close" data-bs-dismiss="modal"
								aria-label="Close"></button>
						</div>
						<div class="modal-body">
							<table class="applicantTable">
								<thead>
									<tr>
										<th scope="col">제출일</th>
										<th scope="col">이름</th>
										<th scope="col">생년월일</th>
										<th scope="col">성별</th>
										<th scope="col">이력서제목</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="submitResume : ${recruit.applicantInfos}">
										<td th:text="${#temporals.format(submitResume.submitDate, 'yyyy.MM.dd')}">이력서제출일</td>
										<td th:text="${submitResume.userName}">이름</td>
										<td th:text="${submitResume.userBirth}">생년월일</td>
										<td th:text="${submitResume.userGender}">성별</td>
										<td><a th:text="${submitResume.resumeTitle}"
											th:href="@{|/applicantManage/submitResume/${submitResume.userCode}/${recruit.announcementCode}|}">이력서제목</a></td>

									</tr>
								</tbody>
							</table>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary"
								data-bs-dismiss="modal">Close</button>
						</div>
					</div>
				</div>
			</div>
			</th:block>





			<!--             반복문 사용 -->
<!--             <div class="accordion accordion-flush" id="accordionFlushExample"> -->
<!--                 <div class="accordion-item"> -->
<!--                     <h2 class="accordion-header" th:each="recruit : ${Recruit}"> -->
<!--                         <button class="accordion-button collapsed" -->
<!--                          type="button" data-bs-toggle="collapse" -->
<!--                           data-bs-target="#flush-collapseOne"  -->
<!--                           aria-expanded="false" aria-controls="flush-collapseOne" -->
<!--                           th:text="${recruit.announcement}"> -->
<!--                         올린 공고 명 -->
<!--                     </button> -->
<!--                     </h2> -->
<!--                 <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample"> -->
<!--                     <div class="accordion-body"> -->
<!--                         <table class="table" th:each="submitResume : ${SubmitResume}"> -->
<!--                             <thead> -->
<!--                               <tr> -->
<!--                                 <th scope="col">#</th> -->
<!--                                 <th scope="col" width="15%" th:text="${submitResume.userName}">이름</th> -->
<!--                                 <th scope="col" width="15%" th:text="${submitResume.userGender}">성별</th> -->
<!--                                 <th scope="col" width="15%" th:text="${submitResume.userBirth}">생년월일</th> -->
<!--                                 <th scope="col" width="50%"> -->
<!--                                 <a th:href="@{|/resume/${submitResume.userCode}|}" -->
<!--                                 th:text="${submitResume.resumeTitle}"></a>이력서</th> -->
<!--                               </tr> -->
<!--                             </thead> -->
<!--                             <tbody> -->
<!--                               <tr> -->
<!--                                 <th scope="row">1</th> -->
<!--                                 <td>name</td> -->
<!--                                 <td>gender</td> -->
<!--                                 <td>age</td> -->
<!--                                 <td>resume_title</td> 이력서 이름 누르면 이력서 확인페이지 -->
<!--                               </tr> -->
<!--                             </tbody> -->
<!--                           </table> -->
<!--                     </div> -->
<!--                     </div> -->
<!--                 </div> -->
<!--                 반복 구간 -->
<!--                 <div class="accordion-item"> -->
<!--                     <h2 class="accordion-header" id="flush-headingTwo"> -->
<!--                         <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo"> -->
<!--                         올린 공고 명 -->
<!--                     </button> -->
<!--                     </h2> -->
<!--                 <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo" data-bs-parent="#accordionFlushExample"> -->
<!--                     <div class="accordion-body"> -->
<!--                         <div>아직 지원자가 없습니다 :)</div> -->
<!--                     </div> -->
<!--                     </div> -->
                </div>
        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>